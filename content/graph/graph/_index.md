---
title: グラフ
version: 0.2
prefix: $g
---

{{< meta >}}

グラフを表すデータ構造です。

## 説明
グラフとは頂点の集合と辺の集合で構成されるデータです。
本APIが提供するデータ構造 `Graph` は無向グラフ・重み付き無向グラフ・有向グラフ・重み付き有向グラフを包含したクラスとなっています。

## データ構造

### ジェネリクス
$W \subseteq \mathbb{R}$

$W$ は辺の重みを表します。例えば `long long`, `double`, [mint]({{< ref "struct/mint/_index.md" >}}) です。

### 状態空間
- $n' \in \mathbb{Z_{\geq 0}}$
- $m' \in \mathbb{Z_{\geq 0}}$
- $w' \in \\{0, 1\\}$
- $d' \in \\{0, 1\\}$
- $E' = (E_{0}', E_{1}', \ldots, E_{n'}') \in ((\\{0, 1, \ldots, n'\\} \times W)^{*})^{n' + 1}$

$n'$ は頂点の数、$m'$ は辺の数であり、$(w', d') = (0, 0)$ ならば無向グラフを、$(w', d') = (1, 0)$ ならば重み付き無向グラフを、
$(w', d') = (0, 1)$ ならば有向グラフを、$(w', d') = (1, 1)$ ならば重み付き有向グラフを表します。
$E_{i}'$ は頂点 $i$ を始点とする辺について、終点と重みの組の列を表します。
なお、無向グラフの $E'$ に辺 $(i, j)$ が含まれるならば$E'$ は辺 $(j, i)$ も含むものとし、
重み付きでないグラフの場合、便宜上、辺の重みを1として扱います。

例えば、$n' = 4$, $m' = 4$, $(w', d') = (1, 0)$, $E_{1}' = ((2, 9), (4, 6)), E_{2}' = ((1, 9), (3, 8)), E_{3}' = ((2, 8), (4, 7)), E_{4}' = ((3, 7), (1, 6))$, ならば頂点1-2, 2-3, 3-4, 4-1の間に辺があり、重みがそれぞれ9, 8, 7, 6であるような無向グラフを表します。

### コンストラクタ
頂点数、辺の数、重みの有無、向きの有無だけ指定した実際には辺を持たないグラフを生成します。

#### 引数
- $n \in \mathbb{Z_{\geq 0}}$
- $m \in \mathbb{Z_{\geq 0}}$
- $w \in \\{0, 1\\}$
  - デフォルト値: $0$
- $d \in \\{0, 1\\}$
  - デフォルト値: $0$

#### 初期状態
- $n' = n$
- $m' = m$
- $w' = w$
- $d' = d$
- $E' = ((), \ldots, ())$

#### 計算量
$O(1)$

### add
グラフに辺を追加します。

#### 引数
- $i \in \\{0, 1, \ldots, n'\\}$
- $j \in \\{0, 1, \ldots, n'\\}$
- $w \in W$
  - デフォルト値: 1

#### 戻り値
なし

#### 状態変化
- $m' \leftarrow m' + 1$
- $d' = 1$ の場合
  - $E_{i}' \leftarrow (E_{i}', (j, w))$
- $d' = 0$ の場合
  - $E_{i}' \leftarrow (E_{i}', (j, w))$
  - $E_{j}' \leftarrow (E_{j}', (i, w))$

#### 計算量
$O(1)$

### 演算子[]
$G[i]$ を評価すると $E'_{i}$ への参照が得られます。

#### 引数
- $i \in \\{0, 1, \ldots, n'\\}$

#### 戻り値
$\\&E'_{i}$

#### 状態変化
なし

#### 計算量
$O(1)$

## 拡張
グラフ初期化時に `cin` による標準出力をサポートしています。`cin >> G` で $G$ の $E'$ に $m'$ 個のグラフの種類に応じた辺を追加します。
例えば、$m' = 4$, $(w', d') = (1, 0)$ のときに以下の標準入力を与えると、$E_{1}' = ((2, 9), (4, 6)), E_{2}' = ((1, 9), (3, 8)), E_{3}' = ((2, 8), (4, 7)), E_{4}' = ((3, 7), (1, 6))$ となります。

```txt
4
1 2 9
2 3 8
3 4 7
4 1 6
```

{{< src >}}

{{< example >}}
