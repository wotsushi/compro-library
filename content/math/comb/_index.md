---
title: 数え上げ
version: 0.1
prefix: $comb
---

{{< meta >}}

数え上げに関する関数です。

## 説明
数え上げに関する問題の多くは、$n$個の箱に$k$個のボールを入れる方法を数え上げる問題に帰着されます。
帰着後の問題の解は、箱に入れられるボールの個数に関する制約、箱の区別可能性、ボールの区別可能性に応じて変わります。
いくつかのケースについては効率的に数え上げることが可能です。
本APIでは、それらを効率的に数え上げる関数を提供します。

## API

### コンストラクタ
定数かつ素数 $MOD$ を法とする $0!, 1!, \ldots, m!$ とそれらの逆数を前計算します。
この前計算は、数え上げを高速化するために行われます。

**注意** 本APIが提供する各関数の呼び出し方に応じた適切な $m$ を指定してください。
例えば、 `h(5, 2)` を計算するためには $6!$ まで前計算されている必要があるため $m \geq 6$ を指定する必要があります。

#### 引数
$m$: 前計算する階乗数の個数

#### 副作用
定数かつ素数 $MOD$ を法とする $0!, 1!, \ldots, m!$ とそれらの逆数を記憶

#### 計算量
$O(m)$

### p
順列の総数 ${}_nP_r$ を返します。
この値が表す意味として以下が挙げられます。
- ボールを1個まで格納できる区別可能な $n$ 個の箱に区別可能な $r$ 個のボールを入れる方法の数
- 区別可能な $n$ 個のボールから $r$ 個を選び、それらを一列に並べる方法の数

#### 引数
- $n$: $n \leq m$ を満たす非負の整数
- $r$: 非負の整数

#### 戻り値
$
\begin{cases}
{}_nP_r & n \geq r \\\\
0 & otherwise
\end{cases}
$

#### 副作用
なし

#### 計算量
$O(1)$

### c
組合せの総数 ${}_nC_r$ を返します。
この値が表す意味として以下が挙げられます。
- ボールを1個まで格納できる区別可能な $n$ 個の箱に区別不可能な $r$ 個のボールを入れる方法の数
- 区別可能な $n$ 個のボールから $r$ 個を選ぶ（並び順は考慮しない）方法の数

####  引数
- $n$: $n \leq m$ を満たす非負の整数
- $r$: $r \leq n$ を満たす非負の整数

#### 戻り値
$
\begin{cases}
{}_nC_r & n \geq r \\\\
0 & otherwise
\end{cases}
$

#### 副作用
なし

#### 計算量
$O(1)$

### h
重複組合せの総数 ${}_nH_r$ を返します。
この値が表す意味として以下が挙げられます。
- ボールを何個でも格納できる区別可能な $n$ 個の箱に区別不可能な $r$ 個のボールを入れる方法の数
- 区別可能な $n$ 種類のボールから重複を許して $r$ 個を選ぶ（並び順は考慮しない）方法の数

#### 引数
- $n$: 正の整数
- $r$: 非負の整数

$n + r - 1 \leq m$ を満たす必要がある

#### 戻り値
${}_nH_r$

#### 副作用
なし

#### 計算量
$O(1)$

{{< src >}}