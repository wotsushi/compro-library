---
title: 数え上げ
version: 0.1
prefix: $comb
---

{{< meta >}}

数え上げに関する関数です。

## 説明
数え上げに関する問題の多くは、$n$個の箱に$k$個のボールを入れる方法を数え上げる問題に帰着されます。
帰着後の問題の解は、箱に入れられるボールの個数に関する制約、箱の区別可能性、ボールの区別可能性に応じて変わります。
いくつかのケースについては効率的に数え上げることが可能です。
本APIでは、それらを効率的に数え上げる関数を提供します。

## データ構造

### ジェネリクス
このデータ構造はジェネリックではありません。

### 状態空間
$m' \in \mathbb{Z}_{\geq 0}$

効率的に数え上げを行うため、定数かつ素数 $MOD$ を法とする階乗数とそれらの逆元を前計算しておく必要があります。
$m'$ は前計算されている階乗数の個数を表します。
例えば、 $m' = 5$ ならば $0!, 1!, \ldots, 5!$ と $(0!)^{-1}, (1!)^{-1}, \ldots, 5!^{-1}$ が前計算された状態に対応します。

### コンストラクタ
$m' = m$ として初期化します。

**注意** 本APIが提供する各関数の呼び出し方に応じた適切な $m$ を指定してください。
例えば、 `h(5, 2)` を計算するためには $6!$ まで前計算されている必要があるため $m \geq 6$ を指定する必要があります。

#### 引数
$m \in \mathbb{Z}_{\geq 0}$

#### 初期状態
$m' = m$

#### 計算量
$O(m)$

### p
順列の総数 ${}_nP_r$ を返します。
この値が表す意味として以下が挙げられます。
- ボールを1個まで格納できる区別可能な $n$ 個の箱に区別可能な $r$ 個のボールを入れる方法の数
- 区別可能な $n$ 個のボールから $r$ 個を選び、それらを一列に並べる方法の数

#### 引数
- $n \in \\{0, 1, \ldots, m\\}$
- $r \in \mathbb{Z}_{\geq 0}$

#### 戻り値
$
\begin{cases}
{}_nP_r & n \geq r \\\\
0 & otherwise
\end{cases}
$

#### 状態変化
なし

#### 計算量
$O(1)$

### c
組合せの総数 ${}_nC_r$ を返します。
この値が表す意味として以下が挙げられます。
- ボールを1個まで格納できる区別可能な $n$ 個の箱に区別不可能な $r$ 個のボールを入れる方法の数
- 区別可能な $n$ 個のボールから $r$ 個を選ぶ（並び順は考慮しない）方法の数

####  引数
- $n \in \\{0, 1, \ldots, m'\\}$
- $r \in \mathbb{Z}_{\geq 0}$

#### 戻り値
$
\begin{cases}
{}_nC_r & n \geq r \\\\
0 & otherwise
\end{cases}
$

#### 状態変化
なし

#### 計算量
$O(1)$

### h
重複組合せの総数 ${}_nH_r$ を返します。
この値が表す意味として以下が挙げられます。
- ボールを何個でも格納できる区別可能な $n$ 個の箱に区別不可能な $r$ 個のボールを入れる方法の数
- 区別可能な $n$ 種類のボールから重複を許して $r$ 個を選ぶ（並び順は考慮しない）方法の数

#### 引数
- $n \in \mathbb{Z}_{+}$
- $r \in \mathbb{Z}_{\geq 0}$

s.t. $n + r - 1 \leq m'$

#### 戻り値
${}_nH_r$

#### 状態変化
なし

#### 計算量
$O(1)$

{{< src >}}

{{< example >}}
