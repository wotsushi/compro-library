---
title: ローリングハッシュ
version: 1.0
prefix: $rollinghash
weight: 501
---

{{< meta >}}

部分文字列のハッシュ値を高速に計算するデータ構造です。

## 説明
指定した文字列の部分文字列のハッシュ値を高速に計算するデータ構造です。
文字列の長さを $n$ として、前処理に $O(n)$ の計算量を要しますが, 部分文字列のハッシュ値を $O(1)$ で計算できます。
ハッシュ値は約 $10^9$ に関する法の値なので、単一の値だと衝突する確率が大きいです。
そこで、衝突する確率を十分に小さくするため、異なる基数・法から導かれた2種類のハッシュ値を返しています。

## データ構造

### ジェネリクス
このデータ構造はジェネリックではありません。

### 状態空間
$S' \in \Sigma^*$

$S'$ はハッシュ値の計算対象となる文字列を表します。

### コンストラクタ
指定した文字列の部分文字列のハッシュ値を高速に求める前処理を行います。

#### 引数
$S \in \Sigma^*$

#### 初期状態
$S' = S$

#### 計算量
$O(|S|)$

### hash
指定した左閉右開区間 $[i, j)$ （0-indexed）の部分文字列のハッシュ値のペアを返します（2種類の基数・法に関するハッシュ値）。

#### 引数
- $i \in \\{0, 1, \ldots, |S'| - 1\\}$
- $j \in \\{i, i + 1, \ldots, |S'|\\}$

#### 戻り値
$(S_{i}', \ldots, S_{j - 1}')$ のハッシュ値のペア（2種類の基数・法に関するハッシュ値）

#### 状態変化
なし

#### 計算量
$O(1)$

{{< src >}}

{{< example >}}
