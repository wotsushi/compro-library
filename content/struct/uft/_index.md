---
title: UnionFind木
version: 1.0
prefix: $uft
---

{{< meta >}}

互いに素な動的集合を管理するデータ構造です。

## 説明
$n + 1$ 個の互いに素な集合 $\\{0\\}, \\{1\\}, \ldots, \\{n\\}$ に対して、以下の操作を提供するデータ構造です。
- 集合の合併
- 2つの要素が同一の集合に属すかの判定
- ある要素が属す集合の要素数の取得

## API

アッカーマン関数 $A$ について、関数 $A(x, x)$ の逆関数を $\alpha(x)$ で表すことにします
（$\alpha(x)$ は定数関数とみなして差し支えないほど緩やかに増加する関数です）

### コンストラクタ
$n + 1$ 個の互いに素な動的集合を初期化します。

#### 引数
$n$: 作成する集合の数

#### 副作用
$n + 1$ 個の互いに素な動的集合 $S_0 = \\{0\\}, S_1 = \\{1\\}, \ldots, S_n = \\{n\\}$ を作成

#### 計算量
$O(n)$

### unite
指定した2つの要素が属す集合を合併します。合併済みの場合は何もしません。

#### 引数
- $i$: 合併対象の集合に属す要素
- $j$: 合併対象の集合に属す要素

#### 戻り値
なし

#### 副作用
$X \ni i$, $Y \ni j$ として、 $X$, $Y$ を削除し $X \cup Y$ を追加する（$X$ と $Y$ を合併する）

#### 計算量
$O(\alpha(n))$

### same
指定した2つの要素が同一の集合に属すか判定します。

#### 引数
$i$: チェック対象の要素
$j$: チェック対象の要素

#### 戻り値
$X \ni i$ として、 $j \in X$

#### 計算量
$O(\alpha(n))$

### size
指定した要素が属す集合の要素数を返します。

#### 引数
$i$: チェック対象の要素

#### 戻り値:
$X \ni i$ として、 $|X|$

#### 計算量
$O(\alpha(n))$

{{< src >}}
